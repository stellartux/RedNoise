<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>RedNoise</title>
    <script src="https://stellartux.github.io/websynth/note.js" charset="utf-8"></script>
    <link rel="stylesheet" href="main.css">
    <link rel="stylesheet" href="redshift.css">
    <link rel="stylesheet" href="playbackcontrols.css">
    <link rel="shortcut icon" href="favicon.png">
    <script src="instruments.js" charset="utf-8"></script>
    <script src="redshift.js" charset="utf-8"></script>
  </head>
  <body>
    <main>
      <div id="patterneditor">
        <div id="song">
          <div id="songtitle" contenteditable="true">NEW TITLE</div>
          <div id="songcontainer"></div>
          <button class="addpatternbutton" onclick="song.addPattern()">CREATE NEW PATTERN</button>
        </div>
      </div>
      <div id="display">
        <div class="checkerboard">
          <div class="displayholder">
            <div id="codeoutput">
              <textarea id="exacode" rows="8" cols="24" class="lockwidth" spellcheck="false"></textarea>
              <div class="code-buttons">
                <button class="code-button" onclick="song.toExacode()">Generate</button>
                <button class="code-button" onclick="copyExacode()">Copy</button>
                <label>Loop <input id="loopforever" type="checkbox" checked></label>
                <label></label>
              </div>
            </div>
            <div class="globaloptions">
              <label>Octave <input id="octave" type="number" value="4" min="0" max="9" step="1"></label>
              <label>Line Skip <input id="lineSkip" type="number" value="1" min="0" step="1"></label>
              <label>Volume <input id="masterGain" type="range" value="0.5" min="0" max="1" step="0.01"></label>
              <label>Focus Playhead <input id="focusPlayhead" type="checkbox" checked></label>
            </div>
          </div>
        </div>
      </div>
      <div id="rsarea">
      <div id="redshift">
      <div class="rstop">
      <svg width="22px" height="22px" id="led">
      <circle cx="11" cy="13" r="7"
        fill="var(--led-red)" stroke="var(--highlight)"
        stroke-width="0.4"/>
      <circle cx="11" cy="13" r="4"
        fill="var(--led-pink)"/>
      </svg>
      <svg width="23px" height="22px" id="stripes">
        <path d="M18 4 l-2 14 h4 l2 -14 Z" fill="var(--rs-cyan)"/>
        <path d="M13 4 l-2 14 h4 l2 -14 Z" fill="var(--rs-white)"/>
        <path d="M2 4 l5.2 1.5 l-2 13 h4 l2 -15 Z" fill="var(--rs-red)"/>
      </svg>
      <div class="logo">REDSHIFT</div>
      </div>
      <canvas id="redshiftscreen" width="240" height="200"></canvas>
      <svg id="redshiftbuttons" viewBox="0 0 240 200">
      </svg>
      <div id="tec">TEC</div>
      </div>
      </div>
      <div id="playbackcontrols">
        <button name="reset" onclick="song.reset()">
          <svg width=38% height="50%" viewbox="0 0 102 100">
            <path d="M20 99 V80 H75 Q80 80 80 75 V45 Q80 40 75 40 H40 V60 L0 30 L40 0 V20 H75 Q99 20 99 40 V80 Q99 99 80 99 Z"
            style="fill:var(--dark-button);stroke:var(--mid-grey);stroke-width:4%;"/>
          </svg>
        </button>
        <button name="stop" onclick="song.stop()">
          <svg width="33%" height="30%">
            <rect width="100%" height="95%" rx="10%" ry="8%" style="fill:var(--dark-button);stroke:var(--mid-grey);stroke-width:4%;" />
          </svg>
        </button>
        <button name="step" onclick="song.pause();song.step()">
          <svg width="60%" height="30%" viewbox="0 0 100 100">
            <rect width="20" height="100%" rx="10%" ry="8%" style="fill:var(--dark-button);stroke:var(--mid-grey);stroke-width:3%;" />
            <polygon points="40,0 100,50 40,100" style="fill:var(--dark-button);stroke:var(--mid-grey);stroke-width:3%;"/>
          </svg>
        </button>
        <button name="play" onclick="song.play()">
          <svg width=33% height="33%" viewbox="0 0 100 100">
            <polygon points="0,0 100,50 0,100" style="fill:var(--dark-button);stroke:var(--mid-grey);stroke-width:3%;"/>
          </svg>
        </button>
      </div>
    </main>
    <script src="main.js" charset="utf-8"></script>
  </body>
</html>
